# Complete encoding fix for script.js
Write-Host "Completely fixing encoding in script.js..." -ForegroundColor Green

# Read the file with proper encoding
$content = Get-Content "script.js" -Raw -Encoding UTF8

# Fix all encoding issues step by step
Write-Host "Fixing Russian text encoding..." -ForegroundColor Yellow

# Fix comments
$content = $content -replace "// ла"ла┬░лалЁлалЁлАРђ╣ла┬х ла┬░лалєлАРђџлаЛЋлаЛўлаЛЋла┬▒лаЛЉла┬╗ла┬хлаРёќ", "// лћл░лйлйЛІлх л░л▓ЛѓлЙл╝лЙл▒лИл╗лхл╣"
$content = $content -replace "// ла"ла┬╗лаЛЋла┬▒ла┬░ла┬╗лАлілалЁлАРђ╣ла┬х лаЛЌла┬хлАлѓла┬хлаЛўла┬хлалЁлалЁлАРђ╣ла┬х", "// лЊл╗лЙл▒л░л╗ЛїлйЛІлх л┐лхЛђлхл╝лхлйлйЛІлх"
$content = $content -replace "// лалалЁлаЛЉлАРђалаЛЉла┬░ла┬╗лаЛЉла┬ила┬░лАРђалаЛЉлАлЈ лаЛЌлАлѓлаЛЉ ла┬ила┬░лаЛќлАлѓлАЛЊла┬илаЛћла┬х лАлЃлАРђџлАлѓла┬░лалЁлаЛЉлАРђалАРђ╣", "// лўлйлИЛєлИл░л╗лИлил░ЛєлИЛЈ л┐ЛђлИ лил░л│ЛђЛЃлил║лх ЛЂЛѓЛђл░лйлИЛєЛІ"
$content = $content -replace "// лалјлаЛЋла┬иламЉла┬░ла┬хлаЛў iframe ламЉла┬╗лАлЈ лаЛЋлАРђџлаЛЋла┬▒лАлѓла┬░ла┬Хла┬хлалЁлаЛЉлАлЈ Google Drive лаЛЌла┬░лаЛЌлаЛћлаЛЉ", "// лАлЙлил┤л░лхл╝ iframe л┤л╗ЛЈ лЙЛѓлЙл▒Лђл░лХлхлйлИЛЈ Google Drive л┐л░л┐л║лИ"

# Fix car details
$content = $content -replace "ла"лалєлаЛЉлаЛќла┬░лАРђџла┬хла┬╗лАлі:", "лћл▓лИл│л░Лѓлхл╗Лї:"
$content = $content -replace "лаЛЪлАлѓлаЛЋла┬▒ла┬хлаЛќ:", "лЪЛђлЙл▒лхл│:"
$content = $content -replace "лаЛћлаЛў", "л║л╝"
$content = $content -replace "ла"ла┬░лАРђџла┬░ лалєлАРђ╣лаЛЌлАЛЊлАлЃлаЛћла┬░:", "лћл░Лѓл░ л▓ЛІл┐ЛЃЛЂл║л░:"
$content = $content -replace "ла'лаЛћла┬╗лАлІлАРђАла┬░ла┬хлАРђџ лАлѓла┬░лАлЃлАРђџла┬░лаЛўлаЛЋла┬ХлаЛћлАЛЊ лаЛЉ ламЉлаЛЋлАлЃлАРђџла┬░лалєлаЛћлАЛЊ", "лњл║л╗ЛјЛЄл░лхЛѓ Лђл░ЛЂЛѓл░л╝лЙлХл║ЛЃ лИ л┤лЙЛЂЛѓл░л▓л║ЛЃ"

# Fix buttons
$content = $content -replace "ла' лаЛћлаЛЋлАлѓла┬илаЛЉлалЁлАЛЊ", "лњ л║лЙЛђлилИлйЛЃ"
$content = $content -replace "лаЛЪлаЛЋламЉлАлѓлаЛЋла┬▒лалЁла┬хла┬х", "лЪлЙл┤ЛђлЙл▒лйлхлх"

# Fix notifications
$content = $content -replace "лаЛњлалєлАРђџлаЛЋлаЛўлаЛЋла┬▒лаЛЉла┬╗лАлі ламЉлаЛЋла┬▒ла┬░лалєла┬╗ла┬хлалЁ лалє лаЛћлаЛЋлАлѓла┬илаЛЉлалЁлАЛЊ!", "лљл▓ЛѓлЙл╝лЙл▒лИл╗Лї л┤лЙл▒л░л▓л╗лхлй л▓ л║лЙЛђлилИлйЛЃ!"
$content = $content -replace "лаЛЎлаЛЋлАлѓла┬илаЛЉлалЁла┬░ лаЛЌлАЛЊлАлЃлАРђџла┬░", "лџлЙЛђлилИлйл░ л┐ЛЃЛЂЛѓл░"
$content = $content -replace "лаЛЎлаЛЋла┬╗лаЛЉлАРђАла┬хлАлЃлАРђџлалєлаЛЋ:", "лџлЙл╗лИЛЄлхЛЂЛѓл▓лЙ:"

# Fix modal content
$content = $content -replace "лаЛЏлАлЃлалЁлаЛЋлалєлалЁлАРђ╣ла┬х лАРђдла┬░лАлѓла┬░лаЛћлАРђџла┬хлАлѓлаЛЉлАлЃлАРђџлаЛЉлаЛћлаЛЉ", "лъЛЂлйлЙл▓лйЛІлх ЛЁл░Лђл░л║ЛѓлхЛђлИЛЂЛѓлИл║лИ"
$content = $content -replace "лаЛџла┬░лАлѓлаЛћла┬░:", "люл░Лђл║л░:"
$content = $content -replace "лаЛџлаЛЋламЉла┬хла┬╗лАлі:", "люлЙл┤лхл╗Лї:"
$content = $content -replace "ла"лаЛЋламЉ:", "лЊлЙл┤:"
$content = $content -replace "ла┬цлаЛЋлАРђџлаЛЋлаЛќлАлѓла┬░лАРђълаЛЉлаЛЉ ла┬░лалєлАРђџлаЛЋлаЛўлаЛЋла┬▒лаЛЉла┬╗лАлЈ", "лцлЙЛѓлЙл│Лђл░ЛёлИлИ л░л▓ЛѓлЙл╝лЙл▒лИл╗ЛЈ"
$content = $content -replace "ла┬дла┬хлалЁла┬░ лалєлаЛћла┬╗лАлІлАРђАла┬░ла┬хлАРђџ лАлѓла┬░лАлЃлАРђџла┬░лаЛўлаЛЋла┬ХлаЛћлАЛЊ лаЛЉ ламЉлаЛЋлАлЃлАРђџла┬░лалєлаЛћлАЛЊ лаЛЌлаЛЋ ла лаЛЋлАлЃлАлЃлаЛЉлаЛЉ", "лдлхлйл░ л▓л║л╗ЛјЛЄл░лхЛѓ Лђл░ЛЂЛѓл░л╝лЙлХл║ЛЃ лИ л┤лЙЛЂЛѓл░л▓л║ЛЃ л┐лЙ лалЙЛЂЛЂлИлИ"
$content = $content -replace "лаЛюлаЛЉлаЛћла┬░лаЛћлаЛЉлАРђд ламЉлаЛЋлаЛЌлаЛЋла┬╗лалЁлаЛЉлАРђџла┬хла┬╗лАлілалЁлАРђ╣лАРђд лаЛЌла┬╗ла┬░лАРђџла┬хла┬Хла┬хлаРёќ!", "лЮлИл║л░л║лИЛЁ л┤лЙл┐лЙл╗лйлИЛѓлхл╗ЛїлйЛІЛЁ л┐л╗л░ЛѓлхлХлхл╣!"
$content = $content -replace "ла"лаЛЋла┬▒ла┬░лалєлаЛЉлАРђџлАлі лалє лаЛћлаЛЋлАлѓла┬илаЛЉлалЁлАЛЊ", "лћлЙл▒л░л▓лИЛѓЛї л▓ л║лЙЛђлилИлйЛЃ"
$content = $content -replace "лаРђћла┬░лаЛћлАлѓлАРђ╣лАРђџлАлі", "лЌл░л║ЛђЛІЛѓЛї"

# Fix functions
$content = $content -replace "ла┬цлАЛЊлалЁлаЛћлАРђалаЛЉлАлЈ ламЉла┬╗лАлЈ лалЁла┬░лалєлаЛЉлаЛќла┬░лАРђалаЛЉлаЛЉ лаЛЌлаЛЋ лаЛќла┬░ла┬╗ла┬хлАлѓла┬хла┬х", "лцЛЃлйл║ЛєлИЛЈ л┤л╗ЛЈ лйл░л▓лИл│л░ЛєлИлИ л┐лЙ л│л░л╗лхЛђлхлх"
$content = $content -replace "лаЛЏлАРђџлаЛћлАлѓлАРђ╣лалєла┬░ла┬хлаЛў Google Drive лаЛЌла┬░лаЛЌлаЛћлАЛЊ лалє лалЁлаЛЋлалєлаЛЋлаЛў лаЛЋлаЛћлалЁла┬х", "лъЛѓл║ЛђЛІл▓л░лхл╝ Google Drive л┐л░л┐л║ЛЃ л▓ лйлЙл▓лЙл╝ лЙл║лйлх"
$content = $content -replace "лаЛЏлАРђџлаЛћлАлѓлАРђ╣лАРђџла┬░ лаЛЌла┬░лаЛЌлаЛћла┬░ лАлЃ лАРђълаЛЋлАРђџлаЛЋлаЛќлАлѓла┬░лАРђълаЛЉлАлЈлаЛўлаЛЉ лалє Google Drive", "лъЛѓл║ЛђЛІЛѓл░ л┐л░л┐л║л░ ЛЂ ЛёлЙЛѓлЙл│Лђл░ЛёлИЛЈл╝лИ л▓ Google Drive"

# Fix checkout
$content = $content -replace "лаЛЎлаЛЋлАлѓла┬илаЛЉлалЁла┬░ лаЛЌлАЛЊлАлЃлАРђџла┬░!", "лџлЙЛђлилИлйл░ л┐ЛЃЛЂЛѓл░!"
$content = $content -replace "лаЛЏлАРђълаЛЋлАлѓлаЛўла┬╗ла┬хлалЁлаЛЉла┬х ла┬ила┬░лаЛћла┬░ла┬ила┬░ лалЁла┬░ лАлЃлАЛЊлаЛўлаЛўлАЛЊ", "лъЛёлЙЛђл╝л╗лхлйлИлх лил░л║л░лил░ лйл░ ЛЂЛЃл╝л╝ЛЃ"
$content = $content -replace "ла'лаЛћла┬╗лАлІлАРђАла┬░ла┬хлАРђџ", "лњл║л╗ЛјЛЄл░лхЛѓ"
$content = $content -replace "ла┬░лалєлАРђџлаЛЋлаЛўлаЛЋла┬▒лаЛЉла┬╗ла┬хлаРёќ.", "л░л▓ЛѓлЙл╝лЙл▒лИл╗лхл╣."
$content = $content -replace "ла'лАлЃла┬х лАРђала┬хлалЁлАРђ╣ лалєлаЛћла┬╗лАлІлАРђАла┬░лАлІлАРђџ лАлѓла┬░лАлЃлАРђџла┬░лаЛўлаЛЋла┬ХлаЛћлАЛЊ лаЛЉ ламЉлаЛЋлАлЃлАРђџла┬░лалєлаЛћлАЛЊ лаЛЌлаЛЋ ла лаЛЋлАлЃлАлЃлаЛЉлаЛЉ.", "лњЛЂлх ЛєлхлйЛІ л▓л║л╗ЛјЛЄл░ЛјЛѓ Лђл░ЛЂЛѓл░л╝лЙлХл║ЛЃ лИ л┤лЙЛЂЛѓл░л▓л║ЛЃ л┐лЙ лалЙЛЂЛЂлИлИ."
$content = $content -replace "лалј лалєла┬░лаЛўлаЛЉ лАлЃлалєлАлЈла┬Хла┬хлАРђџлАлЃлАлЈ лаЛўла┬хлалЁла┬хламЉла┬Хла┬хлАлѓ ламЉла┬╗лАлЈ лАЛЊлАРђџлаЛЋлАРђАлалЁла┬хлалЁлаЛЉлАлЈ ламЉла┬хлАРђџла┬░ла┬╗ла┬хлаРёќ лаЛЋлАРђълаЛЋлАлѓлаЛўла┬╗ла┬хлалЁлаЛЉлАлЈ ламЉлаЛЋлаЛћлАЛЊлаЛўла┬хлалЁлАРђџлаЛЋлалє.", "лА л▓л░л╝лИ ЛЂл▓ЛЈлХлхЛѓЛЂЛЈ л╝лхлйлхл┤лХлхЛђ л┤л╗ЛЈ ЛЃЛѓлЙЛЄлйлхлйлИЛЈ л┤лхЛѓл░л╗лхл╣ лЙЛёлЙЛђл╝л╗лхлйлИЛЈ л┤лЙл║ЛЃл╝лхлйЛѓлЙл▓."
$content = $content -replace "лаЛЏлАРђАлаЛЉлАРђ░ла┬░ла┬хлаЛў лаЛћлаЛЋлАлѓла┬илаЛЉлалЁлАЛЊ лаЛЌлаЛЋлАлЃла┬╗ла┬х лаЛЋлАРђълаЛЋлАлѓлаЛўла┬╗ла┬хлалЁлаЛЉлАлЈ ла┬ила┬░лаЛћла┬░ла┬ила┬░", "лъЛЄлИЛЅл░лхл╝ л║лЙЛђлилИлйЛЃ л┐лЙЛЂл╗лх лЙЛёлЙЛђл╝л╗лхлйлИЛЈ лил░л║л░лил░"
$content = $content -replace "лаРђћла┬░лаЛћла┬░ла┬и лАЛЊлАлЃлаЛЌла┬хлАРѓглалЁлаЛЋ лаЛЋлАРђълаЛЋлАлѓлаЛўла┬╗ла┬хлалЁ!", "лЌл░л║л░ли ЛЃЛЂл┐лхЛѕлйлЙ лЙЛёлЙЛђл╝л╗лхлй!"

# Fix event listeners
$content = $content -replace "лаЛЎлаЛЋлАлѓла┬илаЛЉлалЁла┬░", "лџлЙЛђлилИлйл░"
$content = $content -replace "лаРђћла┬░лаЛћлАлѓлАРђ╣лАРђџлаЛЉла┬х лаЛўлаЛЋламЉла┬░ла┬╗лАлілалЁлАРђ╣лАРђд лаЛЋлаЛћлалЁ лаЛЌлаЛЋ лаЛћла┬╗лаЛЉлаЛћлАЛЊ лалєлалЁла┬х лаЛЉлАРђд", "лЌл░л║ЛђЛІЛѓлИлх л╝лЙл┤л░л╗ЛїлйЛІЛЁ лЙл║лЙлй л┐лЙ л║л╗лИл║ЛЃ л▓лйлх лИЛЁ"
$content = $content -replace "ла┬цлаЛЋлАлѓлаЛўла┬░ лаЛЋла┬▒лАлѓла┬░лАРђџлалЁлаЛЋлаРёќ лАлЃлалєлАлЈла┬илаЛЉ", "лцлЙЛђл╝л░ лЙл▒Лђл░ЛѓлйлЙл╣ ЛЂл▓ЛЈлилИ"
$content = $content -replace "лаРђћла┬░лАлЈлалєлаЛћла┬░ лаЛЋлАРђџлаЛЌлАлѓла┬░лалєла┬╗ла┬хлалЁла┬░! лаЛџлАРђ╣ лАлЃлалєлАлЈла┬Хла┬хлаЛўлАлЃлАлЈ лАлЃ лалєла┬░лаЛўлаЛЉ лалє ла┬▒ла┬╗лаЛЉла┬Хла┬░лаРёќлАРѓгла┬хла┬х лалєлАлѓла┬хлаЛўлАлЈ.", "лЌл░ЛЈл▓л║л░ лЙЛѓл┐Лђл░л▓л╗лхлйл░! люЛІ ЛЂл▓ЛЈлХлхл╝ЛЂЛЈ ЛЂ л▓л░л╝лИ л▓ л▒л╗лИлХл░л╣Лѕлхлх л▓Лђлхл╝ЛЈ."
$content = $content -replace "лаЛЪла┬╗ла┬░лалєлалЁла┬░лАлЈ лаЛЌлАлѓлаЛЋлаЛћлАлѓлАЛЊлАРђџлаЛћла┬░ ламЉла┬╗лАлЈ лалЁла┬░лалєлаЛЉлаЛќла┬░лАРђалаЛЉлаЛЉ", "лЪл╗л░л▓лйл░ЛЈ л┐ЛђлЙл║ЛђЛЃЛѓл║л░ л┤л╗ЛЈ лйл░л▓лИл│л░ЛєлИлИ"

# Fix CSS comments
$content = $content -replace "ла"лаЛЋла┬▒ла┬░лалєла┬╗лАлЈла┬хлаЛў CSS ла┬░лалЁлаЛЉлаЛўла┬░лАРђалаЛЉлаЛЉ лаЛЉ лАлЃлАРђџлаЛЉла┬╗лаЛЉ ламЉла┬╗лАлЈ лАлЃлаЛћлАлѓлАРђ╣лАРђџлаЛЉлАлЈ лалЁла┬░ла┬илалєла┬░лалЁлаЛЉлаРёќ лАРђъла┬░лаРёќла┬╗лаЛЋлалє", "лћлЙл▒л░л▓л╗ЛЈлхл╝ CSS л░лйлИл╝л░ЛєлИлИ лИ ЛЂЛѓлИл╗лИ л┤л╗ЛЈ ЛЂл║ЛђЛІЛѓлИЛЈ лйл░лил▓л░лйлИл╣ Лёл░л╣л╗лЙл▓"
$content = $content -replace "лалјлаЛћлАлѓлАРђ╣лалєла┬░ла┬хлаЛў лалЁла┬░ла┬илалєла┬░лалЁлаЛЉлАлЈ лАРђъла┬░лаРёќла┬╗лаЛЋлалє лалє Google Drive iframe", "лАл║ЛђЛІл▓л░лхл╝ лйл░лил▓л░лйлИЛЈ Лёл░л╣л╗лЙл▓ л▓ Google Drive iframe"
$content = $content -replace "лалјлАРђџлаЛЉла┬╗лаЛЉ ламЉла┬╗лАлЈ лАлЃлаЛћлАлѓлАРђ╣лАРђџлаЛЉлАлЈ лАлЃлаЛЌлаЛЉлАлЃлаЛћла┬░ лАРђъла┬░лаРёќла┬╗лаЛЋлалє", "лАЛѓлИл╗лИ л┤л╗ЛЈ ЛЂл║ЛђЛІЛѓлИЛЈ ЛЂл┐лИЛЂл║л░ Лёл░л╣л╗лЙл▓"
$content = $content -replace "лалјлаЛћлАлѓлАРђ╣лалєла┬░ла┬хлаЛў ла┬ила┬░лаЛќлаЛЋла┬╗лаЛЋлалєлаЛћлаЛЉ лаЛЉ лАлЃлаЛЌлаЛЉлАлЃлаЛћлаЛЉ лалє Google Drive", "лАл║ЛђЛІл▓л░лхл╝ лил░л│лЙл╗лЙл▓л║лИ лИ ЛЂл┐лИЛЂл║лИ л▓ Google Drive"

# Fix symbols
$content = $content -replace "ЛђЛЪЛЎРђћ", "­ЪџЌ"
$content = $content -replace "л▓РђџлЁ", "Рѓй"

# Fix remaining encoding issues
$content = $content -replace "ла'", "лњ"
$content = $content -replace "лаЛћ", "л║"
$content = $content -replace "ла┬╗", "л╗"
$content = $content -replace "лАлІ", "Лј"
$content = $content -replace "лАРђА", "ЛЄ"
$content = $content -replace "ла┬░", "л░"
$content = $content -replace "ла┬х", "лх"
$content = $content -replace "лАРђџ", "Лѓ"
$content = $content -replace "лАлѓ", "Лђ"
$content = $content -replace "ла┬░", "л░"
$content = $content -replace "лАлЃ", "ЛЂ"
$content = $content -replace "лАРђџ", "Лѓ"
$content = $content -replace "ла┬░", "л░"
$content = $content -replace "лаЛў", "л╝"
$content = $content -replace "лаЛЋ", "лЙ"
$content = $content -replace "ла┬Х", "лХ"
$content = $content -replace "лаЛћ", "л║"
$content = $content -replace "лАЛЊ", "ЛЃ"
$content = $content -replace "лаЛЉ", "лИ"
$content = $content -replace "ламЉ", "л┤"
$content = $content -replace "лаЛЋ", "лЙ"
$content = $content -replace "лАлЃ", "ЛЂ"
$content = $content -replace "лАРђџ", "Лѓ"
$content = $content -replace "ла┬░", "л░"
$content = $content -replace "лалє", "л▓"
$content = $content -replace "лаЛћ", "л║"
$content = $content -replace "лАЛЊ", "ЛЃ"

# Write the corrected content back
$content | Out-File "script.js" -Encoding UTF8 -NoNewline

Write-Host "Encoding completely fixed!" -ForegroundColor Green
Write-Host "All Russian text should now display correctly." -ForegroundColor Cyan

